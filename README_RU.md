# Messager.NET

## Обзор

[[EN](README.md)|[RU](README_RU.md)]

> [!WARNING]
> ПРОЕКТ НАХОДИТСЯ НА РАННЕЙ СТАДИИ РАЗРАБОТКИ, ПОЭТОМУ ОШИБКИ И UB НЕИЗБЕЖНЫ, А ТАКЖЕ НЕПРАВИЛЬНЫЙ КОД ИЛИ ДРУГИЕ ОШИБКИ

Легковесная и быстрая система обмена сообщениями (pub/sub) для .NET 10 с поддержкой:

- типизированных событий с ключами и без ключей;
- синхронных и асинхронных отправителей/получателей;
- ленивого создания брокеров для каждого типа событий;
- интеграции с DI ([**Autofac**](https://github.com/autofac/Autofac));
- единой точки контакта — **Exchange**

Цель — простой, прозрачный и потокобезопасный обмен событиями между сервисами/модулями без излишней связанности.

## Roadmap

- Рефакторинг кода для повышения его читабельности.
- Добавление логирования для каждого брокера.
- Добавьте самодельные анализаторы кода для предотвращения распространённых ошибок.
- Рассмотрите возможность отказа от [**Autofac**](https://github.com/autofac/Autofac) и перехода на более простой [**Microsoft.Extensions.DependencyInjection**](https://www.nuget.org/packages/Microsoft.Extensions.DependencyInjection/).
- Поддержка промежуточного ПО и конвейеров событий (логирование, фильтрация, извлечение).
- Другие варианты обработки сообщений (например, **Channel**, **IObservable**).
- Расширенная диагностика и метрики для брокеров и подписчиков.
- Расширенные политики обработки ошибок подписчиков.

## Как это работает

### Pub/Sub

#### Простые

- **ISender<TEvent>**
- **IReceiver<TEvent>**

#### С ключом

- **ISender<TKey, TEvent>**
- **IReceiver<TKey, TEvent>**

#### Асинхронные простые

- **IAsyncSender<TEvent>**
- **IAsyncReceiver<TEvent>**

#### Асинхронные с ключом

- **IAsyncSender<TKey, TEvent>**
- **IAsyncReceiver<TKey, TEvent>**

### Запросы

#### Простые

- **IRequest<TIn, TOut>**

### С ключом

- **IRequest<TKey, TIn, TOut>**

### Асинхронные простые

- **IAsyncRequest<TIn, TOut>**

### Асинхронные с ключом

- **IAsyncRequest<TKey, TIn, TOut>**

## Использование

[Подробнее](.github/docs/ru/Examples.md)

## Благодарности

- Идеи и вдохновение взяты из [**MessagePipe**](https://github.com/Cysharp/MessagePipe) ([**Cysharp**](https://github.com/Cysharp)). Этот проект взял свое начало после того, как я не смог осилить MessagePipe и у меня он просто не работал

## Лицензия

[**Messager.NET**]() лицензируется под [**MIT License**](), подробнее [LICENSE](LICENSE) для дополнительной информации.